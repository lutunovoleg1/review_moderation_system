# Review Moderation System

Автоматизированная система модерации отзывов на русском языке.  
Проект объединяет **Java Spring Boot backend** и **ML-модель на Python (CatBoost)**, взаимодействующие через REST API в Docker-окружении.

Система принимает текстовые отзывы, классифицирует их по категориям  
(положительный, отрицательный, спам, оскорбительный и т.д.)  
и возвращает модератору рекомендацию — `ALLOW`, `MANUAL_REVIEW` или `REJECT`.

---

## Архитектура

Проект реализован по микросервисному принципу и включает два контейнера:

- **review-service** — REST API на Java (порт `8080`)  
- **model-service** — ML-модель на Python (порт `8000`)

**Основные компоненты:**

- `ReviewController` — приём и валидация запросов `/api/v1/reviews/classify`  
- `ReviewService` — бизнес-логика и интеграция с моделью  
- `ModelClient` — HTTP-взаимодействие с ML-сервисом  
- `GlobalExceptionHandler` — глобальная обработка ошибок  
- `model_api` (Python) — сервис с моделью CatBoost, отвечающий на запросы `/predict`

---

## Возможности

- Классификация отзывов на русском языке  
- REST API для интеграции  
- Обработка ошибок и валидация входных данных  
- Полностью контейнеризованная сборка (Docker Compose)  
- Простое локальное развёртывание и тестирование  

---

## Развёртывание через Docker Compose

### 1. Клонирование репозитория

```
git clone https://github.com/rymarmary/review_moderation_system.git
cd review_moderation_system
```

### 2. Сборка и запуск контейнеров

```
docker compose app build
docker compose up
```

После сборки оба контейнера запускаются автоматически:

- REST API доступно по адресу: [http://localhost:8080](http://localhost:8080)  
- ML-модель доступна по адресу: [http://localhost:8000](http://localhost:8000)

---

## Пример запроса

```
curl -X POST http://localhost:8080/api/v1/reviews/classify   -H "Content-Type: application/json"   -d '{"review": "Товар не понравился, ожидал большего качества."}'
```

### Пример ответа

```
{
  "reviewId": "697d7ef1-ed3b-471f-ab72-59c5f13b3f7d",
  "originalText": "Товар не понравился, ожидал большего качества.",
  "recommendation": "MANUAL_REVIEW",
  "confidenceScore": 0.80,
  "processedAt": "2025-10-18T20:37:16Z"
}
```

---

## Структура проекта

```
review_moderation_system/
│
├── review-moderation-system/     # Spring Boot приложение (Java)
├── prediction_pipeline/          # ML-инференс модель (Python)
├── notebooks/                    # исследование и обучение модели
├── Dockerfile                    # сборка Java приложения
├── docker-compose.yml            # общий запуск обоих контейнеров
├── run_model.py                  # запуск Python-сервиса
└── README.md
```

---

## UML-диаграммы

В проекте разработаны следующие UML-диаграммы:

1. **Диаграмма вариантов использования** — взаимодействие модератора и системы  
2. **Диаграмма классов** — структура основных компонентов  
3. **Диаграмма состояний** — жизненный цикл обработки запроса  
4. **Диаграмма последовательности** — порядок вызовов между сервисами  

Диаграммы приведены в отчёте по курсовому проекту и доступны в каталоге `/docs/uml`.

---

## Команда проекта

| Участник | Роль |
|-----------|------|
| **Чумак Валерий Витальевич** | UML-диаграммы, отчёт, код-ревью, интеграция |
| **Литвинов Олег Александрович** | Разработка и обучение ML-модели на Python (CatBoost) |
| **Скринников Дмитрий Андреевич** | Реализация backend-части на Java Spring Boot, Docker и Compose |
| **Макурин Александр Евгеньевич** | Управление командой, аналитика |

---

## Лицензия

Проект разработан в рамках курсовой работы  
по дисциплине **«Архитектура вычислительных и информационных систем»**  
и предназначен для учебных целей.
